{"version":3,"file":"static/js/824.5bacb5ab.chunk.js","mappings":"uQAAA,IAAMA,EAAW,gCACXC,EAAU,mCAET,SAASC,IACd,OAAOC,MAAM,GAAD,OAAIH,EAAJ,oCAAwCC,IAC/CG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,IACRF,MAAK,SAAAC,GAAG,OAAIA,EAAIE,OAAR,GACd,CAEM,SAASC,EAAgBC,GAC9B,OAAON,MAAM,GAAD,OAAIH,EAAJ,gCAAoCC,EAApC,kBAAqDQ,IAC5DL,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,IACRF,MAAK,SAAAC,GAAG,OAAIA,EAAIE,OAAR,GACd,CAEM,SAASG,EAAgBC,GAC9B,OAAOR,MAAM,GAAD,OAAIH,EAAJ,kBAAsBW,EAAtB,oBAAyCV,IAClDG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GACZ,CAEM,SAASM,EAAoBD,GAClC,OAAOR,MAAM,GAAD,OAAIH,EAAJ,kBAAsBW,EAAtB,4BAAiDV,IACxDG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GACd,CAEM,SAASO,EAAuBF,GACrC,OAAOR,MAAM,GAAD,OAAIH,EAAJ,kBAAsBW,EAAtB,4BAAiDV,IACxDG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,MAAR,GACd,C,iHCzBYQ,EAAUC,EAAAA,GAAAA,IAAH,sJAQPC,EAAQD,EAAAA,GAAAA,MAAH,+FAMLE,GAAOF,EAAAA,EAAAA,IAAOG,EAAAA,IAAPH,CAAH,+F,0BCVJI,EAAY,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC1B,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCC,EAAAA,EAAAA,UAASJ,GAA/C,eAAOX,EAAP,KAAoBgB,EAApB,KACMC,ECRmB,SAACN,EAAOO,GAC/B,OAA2CH,EAAAA,EAAAA,UAASJ,GAApD,eAAOQ,EAAP,KAAuBC,EAAvB,KACMC,GAAcC,EAAAA,EAAAA,QAAO,MAS3B,OARAC,EAAAA,EAAAA,YAAU,WAIN,OAHAF,EAAWG,QAAUC,YAAW,WAChCL,EAAiBT,EAChB,GAAEO,GACI,WACHQ,aAAaL,EAAWG,QAC3B,CACJ,GAAE,CAACb,EAAOO,IACJC,CACV,CDJ8BQ,CAAY3B,EALrB,KAoBpB,OAbAuB,EAAAA,EAAAA,YAAU,WACR,IAAKN,EAGH,OAFAJ,EAAae,OAAO,cACpBd,EAAgBD,GAGlBC,EAAgB,CAAEH,MAAOM,GAC1B,GAAE,CAACA,EAAsBJ,EAAcC,KAOtC,UAACT,EAAD,YACE,SAACG,EAAD,KACA,SAACD,EAAD,CACEsB,KAAK,OACLC,MAAO9B,EACP+B,SAAU,SAACC,GAAD,OAAOhB,EAAegB,EAAEC,OAAOH,MAA/B,MAIjB,E,SEND,EAvBe,WACX,OAAuBlB,EAAAA,EAAAA,MAAhBC,GAAP,eACA,GAA4BE,EAAAA,EAAAA,UAAS,IAArC,eAAOmB,EAAP,KAAeC,EAAf,KAEMxB,EAAQE,EAAauB,IAAI,SAO/B,OALAb,EAAAA,EAAAA,YAAU,WACFZ,IACJZ,EAAAA,EAAAA,IAAgBY,GAAOhB,KAAKwC,EAC/B,GAAE,CAACxB,EAAOE,KAGP,iCACI,SAACH,EAAD,CAAWoB,MAAOnB,KAC1B,wBACCuB,EAAOG,KAAI,SAACC,GAAD,OACR,yBAAmB,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAA3B,SAAkCF,EAAMG,OAASH,EAAMI,QAAjEJ,EAAME,GADP,QAMf,C","sources":["components/Api/API.js","components/SearchBox/SearchBox.styled.jsx","components/SearchBox/SearchBox.jsx","components/hooks/useDebounce.js","pages/Movies.jsx"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'fabdd94d4f0ea78505de1131093b2953';\n\nexport function getTrendingMovies() {\n  return fetch(`${BASE_URL}trending/all/day?api_key=${API_KEY}`)\n      .then(res => res.json())\n      .then(res => res.results);\n};\n\nexport function getSearchMovies(searchQuery) {\n  return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${searchQuery}`)\n      .then(res => res.json())\n      .then(res => res.results);\n};\n\nexport function getMovieDetails(movieId) {\n  return fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`)\n    .then(res => res.json());\n};\n\nexport function getMovieDetailsCast(movieId) {\n  return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`)\n      .then(res => res.json());\n};\n\nexport function getMovieDetailsReviews(movieId) {\n  return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`)\n      .then(res => res.json());\n};","import styled from \"styled-components\";\nimport { HiSearch } from \"react-icons/hi\";\n\nexport const Wrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  position: relative;\n  margin-bottom: 16px;\n  text-transform: uppercase;\n`;\n\nexport const Input = styled.input`\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n`;\n\nexport const Icon = styled(HiSearch)`\n  width: 20px;\n  height: 20px;\n  position: absolute;\n  right: 6px;\n`;","import { Wrapper, Input, Icon } from \"./SearchBox.styled\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { useDebounce } from \"components/hooks/useDebounce\";\n\nconst DEBOUNCE_TIME = 500;\n\nexport const SearchBox = ({ query }) => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState(query);\n  const debouncedSearchQuery = useDebounce(searchQuery, DEBOUNCE_TIME);\n  \n  useEffect(() => {\n    if (!debouncedSearchQuery) {\n      searchParams.delete(\"query\");\n      setSearchParams(searchParams)\n      return;\n    }\n    setSearchParams({ query: debouncedSearchQuery });\n  }, [debouncedSearchQuery, searchParams, setSearchParams]);\n  \n  // const onChange = (query) => {\n  //   console.log(query);\n  //   setSearchParams({query})\n  // }\n  return (\n    <Wrapper>\n      <Icon />\n      <Input\n        type=\"text\"\n        value={searchQuery}\n        onChange={(e) => setSearchQuery(e.target.value)}\n      />\n    </Wrapper>\n  );\n};","import { useState, useEffect, useRef } from \"react\"\n\nexport const useDebounce = (query, debounceTime) => {\n    const [debouncedQuery, setDbouncedQuery] = useState(query);\n    const timeoutRef =  useRef(null);\n    useEffect(() => {\n        timeoutRef.current = setTimeout(() => {\n        setDbouncedQuery(query);\n        }, debounceTime);\n        return () => {\n            clearTimeout(timeoutRef.current);\n        }\n    }, [query, debounceTime]);\n    return debouncedQuery;\n}","import { SearchBox } from \"components/SearchBox/SearchBox\"\nimport { useEffect, useState } from \"react\";\nimport { useSearchParams } from \"react-router-dom\"\nimport { getSearchMovies } from \"../components/Api/API\"\nimport { Link } from \"react-router-dom\";\n\nconst Movies = () => {\n    const [searchParams] = useSearchParams();\n    const [movies, setMovies] = useState([]);\n\n    const query = searchParams.get(\"query\");\n\n    useEffect(() => {\n        if (query) {\n        getSearchMovies(query).then(setMovies)};\n    }, [query, searchParams]);\n    \n    return (\n        <>\n            <SearchBox value={query} />\n    <ul>\n    {movies.map((movie) => (\n        <li key={movie.id}><Link to={`/movies/${movie.id}`}>{movie.title || movie.name}</Link></li>\n        ))}\n        </ul>\n    </>\n    );\n};\n\nexport default Movies;"],"names":["BASE_URL","API_KEY","getTrendingMovies","fetch","then","res","json","results","getSearchMovies","searchQuery","getMovieDetails","movieId","getMovieDetailsCast","getMovieDetailsReviews","Wrapper","styled","Input","Icon","HiSearch","SearchBox","query","useSearchParams","searchParams","setSearchParams","useState","setSearchQuery","debouncedSearchQuery","debounceTime","debouncedQuery","setDbouncedQuery","timeoutRef","useRef","useEffect","current","setTimeout","clearTimeout","useDebounce","delete","type","value","onChange","e","target","movies","setMovies","get","map","movie","to","id","title","name"],"sourceRoot":""}